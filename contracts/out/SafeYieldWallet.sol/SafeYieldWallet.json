{"abi":[{"type":"constructor","inputs":[{"name":"_entryPoint","type":"address","internalType":"address"},{"name":"_authManager","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"authManager","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IAuthenticationManager"}],"stateMutability":"view"},{"type":"function","name":"entryPoint","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"execute","inputs":[{"name":"target","type":"address","internalType":"address"},{"name":"value","type":"uint256","internalType":"uint256"},{"name":"data","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"validateUserOp","inputs":[{"name":"op","type":"tuple","internalType":"struct UserOperation","components":[{"name":"sender","type":"address","internalType":"address"},{"name":"callData","type":"bytes","internalType":"bytes"},{"name":"signature","type":"bytes","internalType":"bytes"},{"name":"nonce","type":"uint256","internalType":"uint256"},{"name":"callGasLimit","type":"uint256","internalType":"uint256"},{"name":"verificationGasLimit","type":"uint256","internalType":"uint256"},{"name":"preVerificationGas","type":"uint256","internalType":"uint256"},{"name":"maxFeePerGas","type":"uint256","internalType":"uint256"},{"name":"maxPriorityFeePerGas","type":"uint256","internalType":"uint256"}]}],"outputs":[{"name":"validationCode","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"error","name":"OnlyEntryPoint","inputs":[]}],"bytecode":{"object":"0x60a060405234801561000f575f5ffd5b506040516104fb3803806104fb83398101604081905261002e91610070565b6001600160a01b039182166080525f80546001600160a01b031916919092161790556100a1565b80516001600160a01b038116811461006b575f5ffd5b919050565b5f5f60408385031215610081575f5ffd5b61008a83610055565b915061009860208401610055565b90509250929050565b60805161043c6100bf5f395f818160a301526101b5015261043c5ff3fe608060405234801561000f575f5ffd5b506004361061004a575f3560e01c80638e24d4151461004e578063920811b214610074578063b0d691fe1461009e578063b61d27f6146100c5575b5f5ffd5b61006161005c366004610298565b6100da565b6040519081526020015b60405180910390f35b5f54610086906001600160a01b031681565b6040516001600160a01b03909116815260200161006b565b6100867f000000000000000000000000000000000000000000000000000000000000000081565b6100d86100d33660046102f2565b6101aa565b005b5f806100e96040840184610375565b6040516100f79291906103bf565b6040519081900390205f8054919250906001600160a01b0316638dfe5c5761012260208701876103ce565b6040516001600160e01b031960e084901b1681526001600160a01b03909116600482015260248101859052604401602060405180830381865afa15801561016b573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061018f91906103e7565b90508061019d57600161019f565b5f5b60ff16949350505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146101f35760405163bd07c55160e01b815260040160405180910390fd5b5f846001600160a01b031684848460405161020f9291906103bf565b5f6040518083038185875af1925050503d805f8114610249576040519150601f19603f3d011682016040523d82523d5f602084013e61024e565b606091505b50509050806102915760405162461bcd60e51b815260206004820152600b60248201526a10d85b1b0819985a5b195960aa1b604482015260640160405180910390fd5b5050505050565b5f602082840312156102a8575f5ffd5b813567ffffffffffffffff8111156102be575f5ffd5b820161012081850312156102d0575f5ffd5b9392505050565b80356001600160a01b03811681146102ed575f5ffd5b919050565b5f5f5f5f60608587031215610305575f5ffd5b61030e856102d7565b935060208501359250604085013567ffffffffffffffff811115610330575f5ffd5b8501601f81018713610340575f5ffd5b803567ffffffffffffffff811115610356575f5ffd5b876020828401011115610367575f5ffd5b949793965060200194505050565b5f5f8335601e1984360301811261038a575f5ffd5b83018035915067ffffffffffffffff8211156103a4575f5ffd5b6020019150368190038213156103b8575f5ffd5b9250929050565b818382375f9101908152919050565b5f602082840312156103de575f5ffd5b6102d0826102d7565b5f602082840312156103f7575f5ffd5b815180151581146102d0575f5ffdfea2646970667358221220da8e9980bde32a01ca91fd4894efa6c2bfb013fa65543950ed21a8904a5619df64736f6c634300081c0033","sourceMap":"511:1744:28:-:0;;;1011:156;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;1076:24:28;;;;;1110:11;:50;;-1:-1:-1;;;;;;1110:50:28;;;;;;;;511:1744;;14:177:40;93:13;;-1:-1:-1;;;;;135:31:40;;125:42;;115:70;;181:1;178;171:12;115:70;14:177;;;:::o;196:293::-;275:6;283;336:2;324:9;315:7;311:23;307:32;304:52;;;352:1;349;342:12;304:52;375:40;405:9;375:40;:::i;:::-;365:50;;434:49;479:2;468:9;464:18;434:49;:::i;:::-;424:59;;196:293;;;;;:::o;:::-;511:1744:28;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f5ffd5b506004361061004a575f3560e01c80638e24d4151461004e578063920811b214610074578063b0d691fe1461009e578063b61d27f6146100c5575b5f5ffd5b61006161005c366004610298565b6100da565b6040519081526020015b60405180910390f35b5f54610086906001600160a01b031681565b6040516001600160a01b03909116815260200161006b565b6100867f000000000000000000000000000000000000000000000000000000000000000081565b6100d86100d33660046102f2565b6101aa565b005b5f806100e96040840184610375565b6040516100f79291906103bf565b6040519081900390205f8054919250906001600160a01b0316638dfe5c5761012260208701876103ce565b6040516001600160e01b031960e084901b1681526001600160a01b03909116600482015260248101859052604401602060405180830381865afa15801561016b573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061018f91906103e7565b90508061019d57600161019f565b5f5b60ff16949350505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146101f35760405163bd07c55160e01b815260040160405180910390fd5b5f846001600160a01b031684848460405161020f9291906103bf565b5f6040518083038185875af1925050503d805f8114610249576040519150601f19603f3d011682016040523d82523d5f602084013e61024e565b606091505b50509050806102915760405162461bcd60e51b815260206004820152600b60248201526a10d85b1b0819985a5b195960aa1b604482015260640160405180910390fd5b5050505050565b5f602082840312156102a8575f5ffd5b813567ffffffffffffffff8111156102be575f5ffd5b820161012081850312156102d0575f5ffd5b9392505050565b80356001600160a01b03811681146102ed575f5ffd5b919050565b5f5f5f5f60608587031215610305575f5ffd5b61030e856102d7565b935060208501359250604085013567ffffffffffffffff811115610330575f5ffd5b8501601f81018713610340575f5ffd5b803567ffffffffffffffff811115610356575f5ffd5b876020828401011115610367575f5ffd5b949793965060200194505050565b5f5f8335601e1984360301811261038a575f5ffd5b83018035915067ffffffffffffffff8211156103a4575f5ffd5b6020019150368190038213156103b8575f5ffd5b9250929050565b818382375f9101908152919050565b5f602082840312156103de575f5ffd5b6102d0826102d7565b5f602082840312156103f7575f5ffd5b815180151581146102d0575f5ffdfea2646970667358221220da8e9980bde32a01ca91fd4894efa6c2bfb013fa65543950ed21a8904a5619df64736f6c634300081c0033","sourceMap":"511:1744:28:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1971:282;;;;;;:::i;:::-;;:::i;:::-;;;559:25:40;;;547:2;532:18;1971:282:28;;;;;;;;723:41;;;;;-1:-1:-1;;;;;723:41:28;;;;;;-1:-1:-1;;;;;791:32:40;;;773:51;;761:2;746:18;723:41:28;595:235:40;617:35:28;;;;;1399:304;;;;;;:::i;:::-;;:::i;:::-;;1971:282;2059:22;;2130:12;;;;:2;:12;:::i;:::-;2120:23;;;;;;;:::i;:::-;;;;;;;;;2153:12;2168:11;;2120:23;;-1:-1:-1;2153:12:28;-1:-1:-1;;;;;2168:11:28;:17;2186:9;;;;:2;:9;:::i;:::-;2168:46;;-1:-1:-1;;;;;;2168:46:28;;;;;;;-1:-1:-1;;;;;3139:32:40;;;2168:46:28;;;3121:51:40;3188:18;;;3181:34;;;3094:18;;2168:46:28;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2153:61;;2231:7;:15;;2245:1;2231:15;;;2241:1;2231:15;2224:22;;;1971:282;-1:-1:-1;;;;1971:282:28:o;1399:304::-;1521:10;-1:-1:-1;;;;;1535:10:28;1521:24;;1517:78;;1568:16;;-1:-1:-1;;;1568:16:28;;;;;;;;;;;1517:78;1606:12;1624:6;-1:-1:-1;;;;;1624:11:28;1643:5;1650:4;;1624:31;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1605:50;;;1673:7;1665:31;;;;-1:-1:-1;;;1665:31:28;;3710:2:40;1665:31:28;;;3692:21:40;3749:2;3729:18;;;3722:30;-1:-1:-1;;;3768:18:40;;;3761:41;3819:18;;1665:31:28;;;;;;;;1507:196;1399:304;;;;:::o;14:394:40:-;107:6;160:2;148:9;139:7;135:23;131:32;128:52;;;176:1;173;166:12;128:52;216:9;203:23;249:18;241:6;238:30;235:50;;;281:1;278;271:12;235:50;304:22;;360:3;342:16;;;338:26;335:46;;;377:1;374;367:12;335:46;400:2;14:394;-1:-1:-1;;;14:394:40:o;1043:173::-;1111:20;;-1:-1:-1;;;;;1160:31:40;;1150:42;;1140:70;;1206:1;1203;1196:12;1140:70;1043:173;;;:::o;1221:728::-;1309:6;1317;1325;1333;1386:2;1374:9;1365:7;1361:23;1357:32;1354:52;;;1402:1;1399;1392:12;1354:52;1425:29;1444:9;1425:29;:::i;:::-;1415:39;;1501:2;1490:9;1486:18;1473:32;1463:42;;1556:2;1545:9;1541:18;1528:32;1583:18;1575:6;1572:30;1569:50;;;1615:1;1612;1605:12;1569:50;1638:22;;1691:4;1683:13;;1679:27;-1:-1:-1;1669:55:40;;1720:1;1717;1710:12;1669:55;1760:2;1747:16;1786:18;1778:6;1775:30;1772:50;;;1818:1;1815;1808:12;1772:50;1863:7;1858:2;1849:6;1845:2;1841:15;1837:24;1834:37;1831:57;;;1884:1;1881;1874:12;1831:57;1221:728;;;;-1:-1:-1;1915:2:40;1907:11;;-1:-1:-1;;;1221:728:40:o;1954:521::-;2031:4;2037:6;2097:11;2084:25;2191:2;2187:7;2176:8;2160:14;2156:29;2152:43;2132:18;2128:68;2118:96;;2210:1;2207;2200:12;2118:96;2237:33;;2289:20;;;-1:-1:-1;2332:18:40;2321:30;;2318:50;;;2364:1;2361;2354:12;2318:50;2397:4;2385:17;;-1:-1:-1;2428:14:40;2424:27;;;2414:38;;2411:58;;;2465:1;2462;2455:12;2411:58;1954:521;;;;;:::o;2480:271::-;2663:6;2655;2650:3;2637:33;2619:3;2689:16;;2714:13;;;2689:16;2480:271;-1:-1:-1;2480:271:40:o;2756:186::-;2815:6;2868:2;2856:9;2847:7;2843:23;2839:32;2836:52;;;2884:1;2881;2874:12;2836:52;2907:29;2926:9;2907:29;:::i;3226:277::-;3293:6;3346:2;3334:9;3325:7;3321:23;3317:32;3314:52;;;3362:1;3359;3352:12;3314:52;3394:9;3388:16;3447:5;3440:13;3433:21;3426:5;3423:32;3413:60;;3469:1;3466;3459:12","linkReferences":{},"immutableReferences":{"40382":[{"start":163,"length":32},{"start":437,"length":32}]}},"methodIdentifiers":{"authManager()":"920811b2","entryPoint()":"b0d691fe","execute(address,uint256,bytes)":"b61d27f6","validateUserOp((address,bytes,bytes,uint256,uint256,uint256,uint256,uint256,uint256))":"8e24d415"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_entryPoint\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_authManager\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"OnlyEntryPoint\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"authManager\",\"outputs\":[{\"internalType\":\"contract IAuthenticationManager\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"entryPoint\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"execute\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"callData\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"callGasLimit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"verificationGasLimit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"preVerificationGas\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxFeePerGas\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxPriorityFeePerGas\",\"type\":\"uint256\"}],\"internalType\":\"struct UserOperation\",\"name\":\"op\",\"type\":\"tuple\"}],\"name\":\"validateUserOp\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"validationCode\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"constructor\":{\"params\":{\"_authManager\":\"Address of the AuthenticationManager contract\",\"_entryPoint\":\"The trusted EntryPoint (ERC-4337 compliant)\"}},\"execute(address,uint256,bytes)\":{\"params\":{\"data\":\"The calldata to pass\",\"target\":\"The target contract to call\",\"value\":\"The ETH value to send\"}},\"validateUserOp((address,bytes,bytes,uint256,uint256,uint256,uint256,uint256,uint256))\":{\"details\":\"Hashes the `signature` bytes and compares them to stored passkey hash\",\"params\":{\"op\":\"The user operation to validate\"},\"returns\":{\"validationCode\":\"0 if valid, 1 otherwise\"}}},\"title\":\"SafeYieldWallet\",\"version\":1},\"userdoc\":{\"errors\":{\"OnlyEntryPoint()\":[{\"notice\":\"Error if caller is not the configured entry point\"}]},\"kind\":\"user\",\"methods\":{\"authManager()\":{\"notice\":\"External authentication manager (passkey-based)\"},\"entryPoint()\":{\"notice\":\"The only allowed caller for `execute` and `validateUserOp`\"},\"execute(address,uint256,bytes)\":{\"notice\":\"Executes a call on behalf of the wallet (only the EntryPoint can call this)\"},\"validateUserOp((address,bytes,bytes,uint256,uint256,uint256,uint256,uint256,uint256))\":{\"notice\":\"Validates a user operation using the AuthenticationManager\"}},\"notice\":\"Smart wallet using external AuthenticationManager for passkey verification\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/SafeYieldWallet.sol\":\"SafeYieldWallet\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":account-abstraction/=lib/account-abstraction/contracts/\",\":ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\"]},\"sources\":{\"src/SafeYieldWallet.sol\":{\"keccak256\":\"0x95dcb7c3d1bcef068938b697315c61e025f4b3b35f51edd87c2f944e4c020259\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6a47b73bc99d6e0c0b3e505d881922d15c17b3b77278a04d9fba0ce56aa6f41b\",\"dweb:/ipfs/QmNXoBmWXUPEnmBT33wtTbu22NLqu84vL3CnjTyGW6rRvw\"]},\"src/lib/UserOperation.sol\":{\"keccak256\":\"0x171db16dcfa4f821d581c300f0a7287d915113718b24a836016dbe7c35018a5b\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b2c631690ad8f86f4355a5ac5a1d9aeacab89f24b54c70e9d902533a34755f66\",\"dweb:/ipfs/QmZWdyqXevLSaxn4bpgaFZRStLdPucMZQSbpeNCmh8v4AN\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_entryPoint","type":"address"},{"internalType":"address","name":"_authManager","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"OnlyEntryPoint"},{"inputs":[],"stateMutability":"view","type":"function","name":"authManager","outputs":[{"internalType":"contract IAuthenticationManager","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"entryPoint","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"execute"},{"inputs":[{"internalType":"struct UserOperation","name":"op","type":"tuple","components":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"},{"internalType":"bytes","name":"signature","type":"bytes"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"callGasLimit","type":"uint256"},{"internalType":"uint256","name":"verificationGasLimit","type":"uint256"},{"internalType":"uint256","name":"preVerificationGas","type":"uint256"},{"internalType":"uint256","name":"maxFeePerGas","type":"uint256"},{"internalType":"uint256","name":"maxPriorityFeePerGas","type":"uint256"}]}],"stateMutability":"view","type":"function","name":"validateUserOp","outputs":[{"internalType":"uint256","name":"validationCode","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{"constructor":{"params":{"_authManager":"Address of the AuthenticationManager contract","_entryPoint":"The trusted EntryPoint (ERC-4337 compliant)"}},"execute(address,uint256,bytes)":{"params":{"data":"The calldata to pass","target":"The target contract to call","value":"The ETH value to send"}},"validateUserOp((address,bytes,bytes,uint256,uint256,uint256,uint256,uint256,uint256))":{"details":"Hashes the `signature` bytes and compares them to stored passkey hash","params":{"op":"The user operation to validate"},"returns":{"validationCode":"0 if valid, 1 otherwise"}}},"version":1},"userdoc":{"kind":"user","methods":{"authManager()":{"notice":"External authentication manager (passkey-based)"},"entryPoint()":{"notice":"The only allowed caller for `execute` and `validateUserOp`"},"execute(address,uint256,bytes)":{"notice":"Executes a call on behalf of the wallet (only the EntryPoint can call this)"},"validateUserOp((address,bytes,bytes,uint256,uint256,uint256,uint256,uint256,uint256))":{"notice":"Validates a user operation using the AuthenticationManager"}},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/","account-abstraction/=lib/account-abstraction/contracts/","ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts/contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/SafeYieldWallet.sol":"SafeYieldWallet"},"evmVersion":"cancun","libraries":{}},"sources":{"src/SafeYieldWallet.sol":{"keccak256":"0x95dcb7c3d1bcef068938b697315c61e025f4b3b35f51edd87c2f944e4c020259","urls":["bzz-raw://6a47b73bc99d6e0c0b3e505d881922d15c17b3b77278a04d9fba0ce56aa6f41b","dweb:/ipfs/QmNXoBmWXUPEnmBT33wtTbu22NLqu84vL3CnjTyGW6rRvw"],"license":"MIT"},"src/lib/UserOperation.sol":{"keccak256":"0x171db16dcfa4f821d581c300f0a7287d915113718b24a836016dbe7c35018a5b","urls":["bzz-raw://b2c631690ad8f86f4355a5ac5a1d9aeacab89f24b54c70e9d902533a34755f66","dweb:/ipfs/QmZWdyqXevLSaxn4bpgaFZRStLdPucMZQSbpeNCmh8v4AN"],"license":"MIT"}},"version":1},"id":28}